{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport React, { useEffect, useState } from \"react\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport axios from \"axios\";\nimport { api_url } from \"../config\";\nimport { useSelector } from \"react-redux\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LoanHistory = function LoanHistory(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    loan = _useState2[0],\n    setLoan = _useState2[1];\n  var user = useSelector(function (state) {\n    var _state$userReducer;\n    return state == null ? void 0 : (_state$userReducer = state.userReducer) == null ? void 0 : _state$userReducer.currentUser;\n  });\n  console.log(\"userId\", user);\n  var getHistory = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var _response$data;\n      var response = yield axios.get(`${api_url}/loan/getAllById/${user == null ? void 0 : user._id}`);\n      setLoan(response == null ? void 0 : (_response$data = response.data) == null ? void 0 : _response$data.response);\n    });\n    return function getHistory() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    getHistory();\n  }, []);\n  return _jsx(SafeAreaView, {\n    children: _jsxs(View, {\n      style: {\n        backgroundColor: \"#2E2E3B\",\n        height: \"100%\",\n        width: \"100%\",\n        padding: \"3%\"\n      },\n      children: [_jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        children: [_jsx(TouchableOpacity, {\n          onPress: function onPress() {\n            return navigation.goBack();\n          },\n          children: _jsx(Ionicons, {\n            name: \"arrow-back-outline\",\n            size: 30,\n            color: \"white\"\n          })\n        }), _jsx(Text, {\n          style: {\n            color: \"white\",\n            fontSize: 18,\n            fontWeight: \"bold\",\n            marginLeft: \"16%\"\n          },\n          children: \"Loan Transaction\"\n        })]\n      }), _jsxs(View, {\n        style: styles.table,\n        children: [_jsxs(View, {\n          style: styles.tableHeader,\n          children: [_jsx(Text, {\n            style: {\n              flex: 1,\n              fontWeight: \"bold\",\n              color: \"white\"\n            },\n            children: \"Date\"\n          }), _jsx(Text, {\n            style: styles.headerCell,\n            children: \"Status\"\n          }), _jsx(Text, {\n            style: styles.headerCell,\n            children: \"Amount\"\n          })]\n        }), _jsx(FlatList, {\n          showsVerticalScrollIndicator: false,\n          data: loan,\n          keyExtractor: function keyExtractor(item) {\n            return item._id;\n          },\n          renderItem: function renderItem(_ref3) {\n            var item = _ref3.item,\n              index = _ref3.index;\n            return _jsxs(View, {\n              style: styles.tableRow,\n              children: [_jsx(Text, {\n                style: {\n                  color: \"white\",\n                  flex: 1\n                },\n                children: item.createdAt\n              }), _jsx(View, {\n                style: [styles.statusCell, {\n                  backgroundColor: item != null && item.isPass ? \"green\" : \"red\"\n                }],\n                children: _jsx(Text, {\n                  style: {\n                    fontWeight: \"800\",\n                    color: \"white\"\n                  },\n                  children: item != null && item.isPass ? \"Success\" : \"Pending\"\n                })\n              }), _jsxs(Text, {\n                style: styles.tableCell,\n                children: [\"$ \", item.amount]\n              })]\n            }, index);\n          }\n        })]\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  table: {\n    marginVertical: 10\n  },\n  tableHeader: {\n    flexDirection: \"row\",\n    borderBottomWidth: 0.5,\n    borderBottomColor: \"lightgrey\",\n    padding: 10\n  },\n  headerCell: {\n    flex: 1,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"white\"\n  },\n  tableRow: {\n    flexDirection: \"row\",\n    paddingVertical: 12,\n    paddingLeft: 8,\n    borderBottomWidth: 0.5,\n    borderBottomColor: \"lightgrey\"\n  },\n  tableCell: {\n    flex: 1,\n    textAlign: \"center\",\n    color: \"white\"\n  },\n  statusCell: {\n    textAlign: \"center\",\n    paddingVertical: 2,\n    paddingHorizontal: 6,\n    borderRadius: 4\n  }\n});\nexport default LoanHistory;","map":{"version":3,"names":["React","useEffect","useState","SafeAreaView","Ionicons","axios","api_url","useSelector","jsx","_jsx","jsxs","_jsxs","LoanHistory","_ref","navigation","_useState","_useState2","_slicedToArray","loan","setLoan","user","state","_state$userReducer","userReducer","currentUser","console","log","getHistory","_ref2","_asyncToGenerator","_response$data","response","get","_id","data","apply","arguments","children","View","style","backgroundColor","height","width","padding","flexDirection","alignItems","TouchableOpacity","onPress","goBack","name","size","color","Text","fontSize","fontWeight","marginLeft","styles","table","tableHeader","flex","headerCell","FlatList","showsVerticalScrollIndicator","keyExtractor","item","renderItem","_ref3","index","tableRow","createdAt","statusCell","isPass","tableCell","amount","StyleSheet","create","marginVertical","borderBottomWidth","borderBottomColor","textAlign","paddingVertical","paddingLeft","paddingHorizontal","borderRadius"],"sources":["C:/Users/UEFI/Desktop/exchangepro/crypto_mobile_app (copy)/screens/LoanHistory.js"],"sourcesContent":["import {\n  View,\n  Text,\n  StyleSheet,\n  FlatList,\n  TouchableOpacity,\n} from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport { SafeAreaView } from \"react-native-safe-area-context\";\nimport { Ionicons } from \"@expo/vector-icons\";\nimport axios from \"axios\";\nimport { api_url } from \"../config\";\nimport { useSelector } from \"react-redux\";\n\nconst LoanHistory = ({ navigation }) => {\n  const [loan, setLoan] = useState([]);\n  const user = useSelector((state) => state?.userReducer?.currentUser);\n  console.log(\"userId\", user);\n  const getHistory = async () => {\n    const response = await axios.get(`${api_url}/loan/getAllById/${user?._id}`);\n    setLoan(response?.data?.response);\n  };\n\n  useEffect(() => {\n    getHistory();\n  }, []);\n\n  // const deposites = [\n  //   {\n  //     _id: \"65a3027214699dd97288071a\",\n  //     userId: \"65a035a8262fea2c40b7be6c\",\n  //     username: \"Khubaib\",\n  //     slipUrl: \"2a6cc25a-c0c6-4c08-a8e6-4c7aca5856f4.jpeg\",\n  //     amount: 231,\n  //     submitedToAccount: false,\n  //     ticketNumber: \"051b1257-a921-4dc6-a5ee-06aa4abc40e5\",\n  //     currency: \"USDTTRC\",\n  //     createdAt: \"JUN 10,2023\",\n  //     __v: 0,\n  //   },\n  //   {\n  //     _id: \"65a42c3eb0ea5c0a18471l56\",\n  //     userId: \"65a035a8262fea2c40b7be6c\",\n  //     username: \"chodr\",\n  //     slipUrl: \"cec14d80-fd19-4f2f-a5b0-ea7bfa300153.jpeg\",\n  //     amount: 321,\n  //     submitedToAccount: false,\n  //     ticketNumber: \"39248f65-55ef-498c-b6f7-f2fbe24122ab\",\n  //     currency: \"USDTTRC\",\n  //     createdAt: \"JULY 15,2020\",\n  //     __v: 0,\n  //   },\n  //   {\n  //     _id: \"65a42c3eb0ea5c0a18471z15\",\n  //     userId: \"65a035a8262fea2c40b7be6c\",\n  //     username: \"Anthani\",\n  //     slipUrl: \"cec14d80-fd19-4f2f-a5b0-ea7bfa300153.jpeg\",\n  //     amount: 420,\n  //     submitedToAccount: true,\n  //     ticketNumber: \"39248f65-55ef-498c-b6f7-f2fbe24122ab\",\n  //     currency: \"USDTTRC\",\n  //     createdAt: \"JUN 8,2017\",\n  //     __v: 0,\n  //   },\n  //   {\n  //     _id: \"65a42c3eb0ea5c0a18471f04\",\n  //     userId: \"65a035a8262fea2c40b7be6c\",\n  //     username: \"Jhon\",\n  //     slipUrl: \"cec14d80-fd19-4f2f-a5b0-ea7bfa300153.jpeg\",\n  //     amount: 570,\n  //     submitedToAccount: false,\n  //     ticketNumber: \"39248f65-55ef-498c-b6f7-f2fbe24122ab\",\n  //     currency: \"USDTTRC\",\n  //     createdAt: \"JUN 7,2016\",\n  //     __v: 0,\n  //   },\n  // ];\n\n  return (\n    <SafeAreaView>\n      <View\n        style={{\n          backgroundColor: \"#2E2E3B\",\n          height: \"100%\",\n          width: \"100%\",\n          padding: \"3%\",\n        }}\n      >\n        <View\n          style={{\n            flexDirection: \"row\",\n            alignItems: \"center\",\n          }}\n        >\n          <TouchableOpacity onPress={() => navigation.goBack()}>\n            <Ionicons name=\"arrow-back-outline\" size={30} color=\"white\" />\n          </TouchableOpacity>\n          <Text\n            style={{\n              color: \"white\",\n              fontSize: 18,\n              fontWeight: \"bold\",\n              marginLeft: \"16%\",\n            }}\n          >\n            Loan Transaction\n          </Text>\n        </View>\n        <View style={styles.table}>\n          <View style={styles.tableHeader}>\n            <Text style={{ flex: 1, fontWeight: \"bold\", color: \"white\" }}>\n              Date\n            </Text>\n            <Text style={styles.headerCell}>Status</Text>\n            <Text style={styles.headerCell}>Amount</Text>\n          </View>\n          <FlatList\n            showsVerticalScrollIndicator={false}\n            data={loan}\n            keyExtractor={(item) => item._id}\n            renderItem={({ item, index }) => (\n              <View key={index} style={styles.tableRow}>\n                <Text style={{ color: \"white\", flex: 1 }}>\n                  {item.createdAt}\n                </Text>\n                <View\n                  style={[\n                    styles.statusCell,\n                    {\n                      backgroundColor: item?.isPass ? \"green\" : \"red\",\n                    },\n                  ]}\n                >\n                  <Text style={{ fontWeight: \"800\", color: \"white\" }}>\n                    {item?.isPass ? \"Success\" : \"Pending\"}\n                  </Text>\n                </View>\n                <Text style={styles.tableCell}>$ {item.amount}</Text>\n              </View>\n            )}\n          />\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  table: {\n    marginVertical: 10,\n    // borderWidth: 1,\n    // borderColor: \"black\",\n  },\n  tableHeader: {\n    flexDirection: \"row\",\n    borderBottomWidth: 0.5,\n    borderBottomColor: \"lightgrey\",\n    // backgroundColor: \"lightgrey\",\n    padding: 10,\n  },\n  headerCell: {\n    flex: 1,\n    textAlign: \"center\",\n    fontWeight: \"bold\",\n    color: \"white\",\n  },\n  tableRow: {\n    flexDirection: \"row\",\n    paddingVertical: 12,\n    paddingLeft: 8,\n    borderBottomWidth: 0.5,\n    borderBottomColor: \"lightgrey\",\n  },\n  tableCell: {\n    flex: 1,\n    textAlign: \"center\",\n    color: \"white\",\n  },\n  statusCell: {\n    textAlign: \"center\",\n    paddingVertical: 2,\n    paddingHorizontal: 6,\n    borderRadius: 4,\n  },\n});\n\nexport default LoanHistory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}