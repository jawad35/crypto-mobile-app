{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport View from \"react-native-web/dist/exports/View\";\nimport * as ImagePicker from 'expo-image-picker';\nimport axios from 'axios';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar ImageUpload = function ImageUpload() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    image = _useState2[0],\n    setImage = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    imageName = _useState4[0],\n    setImageName = _useState4[1];\n  var selectImage = function () {\n    var _ref = _asyncToGenerator(function* () {\n      var permissionResult = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      if (!permissionResult.granted) {\n        alert('Permission to access camera roll is required!');\n        return;\n      }\n      var pickerResult = yield ImagePicker.launchImageLibraryAsync();\n      if (!pickerResult.canceled) {\n        console.log(pickerResult.assets);\n        setImage(pickerResult.uri);\n        setImageName(getFileName(pickerResult.uri));\n        uploadImage(pickerResult);\n      }\n    });\n    return function selectImage() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var getFileName = function getFileName(uri) {\n    var uriParts = uri.split('/');\n    return uriParts[uriParts.length - 1];\n  };\n  console.log(ima);\n  var uploadImage = function () {\n    var _ref2 = _asyncToGenerator(function* (imageData) {\n      var formData = new FormData();\n      formData.append('image', {\n        uri: imageData.uri,\n        type: 'image/jpeg',\n        name: getFileName(imageData.uri)\n      });\n    });\n    return function uploadImage(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    children: [_jsx(Button, {\n      title: \"Select Image\",\n      onPress: selectImage\n    }), image && _jsx(Image, {\n      source: {\n        uri: image\n      },\n      style: {\n        width: 200,\n        height: 200\n      }\n    })]\n  });\n};\nexport default ImageUpload;","map":{"version":3,"names":["React","useState","Button","Image","View","ImagePicker","axios","jsx","_jsx","jsxs","_jsxs","ImageUpload","_useState","_useState2","_slicedToArray","image","setImage","_useState3","_useState4","imageName","setImageName","selectImage","_ref","_asyncToGenerator","permissionResult","requestMediaLibraryPermissionsAsync","granted","alert","pickerResult","launchImageLibraryAsync","canceled","console","log","assets","uri","getFileName","uploadImage","apply","arguments","uriParts","split","length","ima","_ref2","imageData","formData","FormData","append","type","name","_x","children","title","onPress","source","style","width","height"],"sources":["/Users/macbookpro/Downloads/crypto_mobile_app (copy) (2)/screens/Btc.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Image, View } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\nimport axios from 'axios';\n\nconst ImageUpload = () => {\n  const [image, setImage] = useState(null);\n  const [imageName, setImageName] = useState(null);\n\n  const selectImage = async () => {\n    const permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\n    if (!permissionResult.granted) {\n      alert('Permission to access camera roll is required!');\n      return;\n    }\n\n    const pickerResult = await ImagePicker.launchImageLibraryAsync();\n    if (!pickerResult.canceled) {\n      console.log(pickerResult.assets)\n      setImage(pickerResult.uri);\n      setImageName(getFileName(pickerResult.uri));\n      uploadImage(pickerResult);\n    }\n  };\n\n  const getFileName = (uri) => {\n    const uriParts = uri.split('/');\n    return uriParts[uriParts.length - 1];\n  };\nconsole.log(ima)\n  const uploadImage = async (imageData) => {\n    const formData = new FormData();\n    formData.append('image', {\n      uri: imageData.uri,\n      type: 'image/jpeg',\n      name: getFileName(imageData.uri),\n    });\n\n  };\n\n  return (\n    <View>\n      <Button title=\"Select Image\" onPress={selectImage} />\n      {image && <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />}\n    </View>\n  );\n};\n\nexport default ImageUpload;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,MAAA;AAAA,OAAAC,KAAA;AAAA,OAAAC,IAAA;AAExC,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAChD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,GAAA,IAAAC,IAAA,EAAAC,IAAA,IAAAC,KAAA;AAE1B,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAA,EAAS;EACxB,IAAAC,SAAA,GAA0BX,QAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjCG,KAAK,GAAAF,UAAA;IAAEG,QAAQ,GAAAH,UAAA;EACtB,IAAAI,UAAA,GAAkChB,QAAQ,CAAC,IAAI,CAAC;IAAAiB,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAzCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAE9B,IAAMG,WAAW;IAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;MAC9B,IAAMC,gBAAgB,SAASnB,WAAW,CAACoB,mCAAmC,CAAC,CAAC;MAChF,IAAI,CAACD,gBAAgB,CAACE,OAAO,EAAE;QAC7BC,KAAK,CAAC,+CAA+C,CAAC;QACtD;MACF;MAEA,IAAMC,YAAY,SAASvB,WAAW,CAACwB,uBAAuB,CAAC,CAAC;MAChE,IAAI,CAACD,YAAY,CAACE,QAAQ,EAAE;QAC1BC,OAAO,CAACC,GAAG,CAACJ,YAAY,CAACK,MAAM,CAAC;QAChCjB,QAAQ,CAACY,YAAY,CAACM,GAAG,CAAC;QAC1Bd,YAAY,CAACe,WAAW,CAACP,YAAY,CAACM,GAAG,CAAC,CAAC;QAC3CE,WAAW,CAACR,YAAY,CAAC;MAC3B;IACF,CAAC;IAAA,gBAdKP,WAAWA,CAAA;MAAA,OAAAC,IAAA,CAAAe,KAAA,OAAAC,SAAA;IAAA;EAAA,GAchB;EAED,IAAMH,WAAW,GAAG,SAAdA,WAAWA,CAAID,GAAG,EAAK;IAC3B,IAAMK,QAAQ,GAAGL,GAAG,CAACM,KAAK,CAAC,GAAG,CAAC;IAC/B,OAAOD,QAAQ,CAACA,QAAQ,CAACE,MAAM,GAAG,CAAC,CAAC;EACtC,CAAC;EACHV,OAAO,CAACC,GAAG,CAACU,GAAG,CAAC;EACd,IAAMN,WAAW;IAAA,IAAAO,KAAA,GAAApB,iBAAA,CAAG,WAAOqB,SAAS,EAAK;MACvC,IAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE;QACvBb,GAAG,EAAEU,SAAS,CAACV,GAAG;QAClBc,IAAI,EAAE,YAAY;QAClBC,IAAI,EAAEd,WAAW,CAACS,SAAS,CAACV,GAAG;MACjC,CAAC,CAAC;IAEJ,CAAC;IAAA,gBARKE,WAAWA,CAAAc,EAAA;MAAA,OAAAP,KAAA,CAAAN,KAAA,OAAAC,SAAA;IAAA;EAAA,GAQhB;EAED,OACE5B,KAAA,CAACN,IAAI;IAAA+C,QAAA,GACH3C,IAAA,CAACN,MAAM;MAACkD,KAAK,EAAC,cAAc;MAACC,OAAO,EAAEhC;IAAY,CAAE,CAAC,EACpDN,KAAK,IAAIP,IAAA,CAACL,KAAK;MAACmD,MAAM,EAAE;QAAEpB,GAAG,EAAEnB;MAAM,CAAE;MAACwC,KAAK,EAAE;QAAEC,KAAK,EAAE,GAAG;QAAEC,MAAM,EAAE;MAAI;IAAE,CAAE,CAAC;EAAA,CAC3E,CAAC;AAEX,CAAC;AAED,eAAe9C,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}