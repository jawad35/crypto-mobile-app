{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport React, { useEffect, useState } from \"react\";\nimport * as ImagePicker from \"expo-image-picker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar ImageSelect = function ImageSelect(_ref) {\n  var _userReducer$currentU, _userReducer$currentU2;\n  var onImageSelect = _ref.onImageSelect;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    hasGalleryAccess = _useState2[0],\n    setHasGalleryAccess = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    image = _useState4[0],\n    setImage = _useState4[1];\n  var _useSelector = useSelector(function (state) {\n      return state;\n    }),\n    userReducer = _useSelector.userReducer;\n  var data = {\n    userId: userReducer == null ? void 0 : (_userReducer$currentU = userReducer.currentUser) == null ? void 0 : _userReducer$currentU._id,\n    username: userReducer == null ? void 0 : (_userReducer$currentU2 = userReducer.currentUser) == null ? void 0 : _userReducer$currentU2.username,\n    amount: amount\n  };\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var galleryStatus = yield ImagePicker.requestMediaLibraryPermissionsAsync();\n      setHasGalleryAccess(galleryStatus.status == \"granted\");\n    })();\n  }, []);\n  var pickImage = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var result = yield ImagePicker.launchImageLibraryAsync({\n        mediaType: ImagePicker.MediaTypeOptions.Images,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1,\n        base64: true\n      });\n      if (!(result != null && result.canceled)) {\n        onImageSelect(result.assets[0]);\n      }\n    });\n    return function pickImage() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  if (hasGalleryAccess === false) {\n    return _jsx(Text, {\n      children: \"No Access to internal Storage\"\n    });\n  }\n  return _jsx(View, {\n    style: {\n      flex: 1,\n      justifyContent: \"center\"\n    },\n    children: _jsx(Button, {\n      title: \"Pick Image\",\n      onPress: function onPress() {\n        return pickImage();\n      }\n    })\n  });\n};\nexport default ImageSelect;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useState","ImagePicker","jsx","_jsx","ImageSelect","_ref","_userReducer$currentU","_userReducer$currentU2","onImageSelect","_useState","_useState2","_slicedToArray","hasGalleryAccess","setHasGalleryAccess","_useState3","_useState4","image","setImage","_useSelector","useSelector","state","userReducer","data","userId","currentUser","_id","username","amount","_asyncToGenerator","galleryStatus","requestMediaLibraryPermissionsAsync","status","pickImage","_ref3","result","launchImageLibraryAsync","mediaType","MediaTypeOptions","Images","allowsEditing","aspect","quality","base64","canceled","assets","apply","arguments","Text","children","View","style","flex","justifyContent","Button","title","onPress","styles","StyleSheet","create"],"sources":["/Users/macbookpro/Downloads/crypto_mobile_app (copy) (2)/components/ImageSelect.js"],"sourcesContent":["import { StyleSheet, Text, View, Button, Image } from \"react-native\";\nimport React, { useEffect, useState } from \"react\";\nimport * as ImagePicker from \"expo-image-picker\";\n\nconst ImageSelect = ({ onImageSelect }) => {\n  const [hasGalleryAccess, setHasGalleryAccess] = useState(null);\n  const [image, setImage] = useState(null);\n  const { userReducer } = useSelector((state) => state);\n\n  const data = {userId: userReducer?.currentUser?._id, username:userReducer?.currentUser?.username, amount}\n\n  useEffect(() => {\n    (async () => {\n      const galleryStatus =\n        await ImagePicker.requestMediaLibraryPermissionsAsync();\n      setHasGalleryAccess(galleryStatus.status == \"granted\");\n    })();\n  }, []);\n\n  const pickImage = async () => {\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaType: ImagePicker.MediaTypeOptions.Images,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n      base64:true\n    });\n    if (!result?.canceled) {\n      onImageSelect(result.assets[0]); // Use the URI of the first selected image\n    }\n  };\n\n  if (hasGalleryAccess === false) {\n    return <Text>No Access to internal Storage</Text>;\n  }\n\n  return (\n    <View style={{ flex: 1, justifyContent: \"center\" }}>\n      <Button title=\"Pick Image\" onPress={() => pickImage()} />\n      {/* {image && (\n        <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />\n      )} */}\n    </View>\n  );\n};\n\nexport default ImageSelect;\n\nconst styles = StyleSheet.create({});\n"],"mappings":";;;;;;;AACA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAO,KAAKC,WAAW,MAAM,mBAAmB;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAEjD,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAAC,IAAA,EAA0B;EAAA,IAAAC,qBAAA,EAAAC,sBAAA;EAAA,IAApBC,aAAa,GAAAH,IAAA,CAAbG,aAAa;EAClC,IAAAC,SAAA,GAAgDT,QAAQ,CAAC,IAAI,CAAC;IAAAU,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAvDG,gBAAgB,GAAAF,UAAA;IAAEG,mBAAmB,GAAAH,UAAA;EAC5C,IAAAI,UAAA,GAA0Bd,QAAQ,CAAC,IAAI,CAAC;IAAAe,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjCE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA;EACtB,IAAAG,YAAA,GAAwBC,WAAW,CAAC,UAACC,KAAK;MAAA,OAAKA,KAAK;IAAA,EAAC;IAA7CC,WAAW,GAAAH,YAAA,CAAXG,WAAW;EAEnB,IAAMC,IAAI,GAAG;IAACC,MAAM,EAAEF,WAAW,qBAAAf,qBAAA,GAAXe,WAAW,CAAEG,WAAW,qBAAxBlB,qBAAA,CAA0BmB,GAAG;IAAEC,QAAQ,EAACL,WAAW,qBAAAd,sBAAA,GAAXc,WAAW,CAAEG,WAAW,qBAAxBjB,sBAAA,CAA0BmB,QAAQ;IAAEC,MAAM,EAANA;EAAM,CAAC;EAEzG5B,SAAS,CAAC,YAAM;IACd6B,iBAAA,CAAC,aAAY;MACX,IAAMC,aAAa,SACX5B,WAAW,CAAC6B,mCAAmC,CAAC,CAAC;MACzDjB,mBAAmB,CAACgB,aAAa,CAACE,MAAM,IAAI,SAAS,CAAC;IACxD,CAAC,EAAE,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMC,SAAS;IAAA,IAAAC,KAAA,GAAAL,iBAAA,CAAG,aAAY;MAC5B,IAAIM,MAAM,SAASjC,WAAW,CAACkC,uBAAuB,CAAC;QACrDC,SAAS,EAAEnC,WAAW,CAACoC,gBAAgB,CAACC,MAAM;QAC9CC,aAAa,EAAE,IAAI;QACnBC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QACdC,OAAO,EAAE,CAAC;QACVC,MAAM,EAAC;MACT,CAAC,CAAC;MACF,IAAI,EAACR,MAAM,YAANA,MAAM,CAAES,QAAQ,GAAE;QACrBnC,aAAa,CAAC0B,MAAM,CAACU,MAAM,CAAC,CAAC,CAAC,CAAC;MACjC;IACF,CAAC;IAAA,gBAXKZ,SAASA,CAAA;MAAA,OAAAC,KAAA,CAAAY,KAAA,OAAAC,SAAA;IAAA;EAAA,GAWd;EAED,IAAIlC,gBAAgB,KAAK,KAAK,EAAE;IAC9B,OAAOT,IAAA,CAAC4C,IAAI;MAAAC,QAAA,EAAC;IAA6B,CAAM,CAAC;EACnD;EAEA,OACE7C,IAAA,CAAC8C,IAAI;IAACC,KAAK,EAAE;MAAEC,IAAI,EAAE,CAAC;MAAEC,cAAc,EAAE;IAAS,CAAE;IAAAJ,QAAA,EACjD7C,IAAA,CAACkD,MAAM;MAACC,KAAK,EAAC,YAAY;MAACC,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMvB,SAAS,CAAC,CAAC;MAAA;IAAC,CAAE;EAAC,CAIrD,CAAC;AAEX,CAAC;AAED,eAAe5B,WAAW;AAE1B,IAAMoD,MAAM,GAAGC,UAAU,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}